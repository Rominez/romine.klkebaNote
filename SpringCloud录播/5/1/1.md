令牌桶算法  
- 定义一个令牌桶，每隔单位时间向桶中添加一个令牌  
- 定义一个请求队列。新的请求放到队列里，如果队列已满则直接丢弃  
- 处理器按顺序处理队列中的请求，每处理一个请求需要在令牌桶中取走一个令牌，桶中没有令牌则进入阻塞  

漏桶的容量决定了处理器的最大瞬时并发量，适用于处理突发流量激增的场景  

---

spring-cloud 依赖 google guava 实现令牌桶算法的限流  

[back](../1.md)  