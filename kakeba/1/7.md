# ioc 的三个版本  

## ioc 要解决的问题  

使用一个类的时候，除了创建这个类的实例以外，还要创建这个类所有依赖的实例。但是这个类的实际使用者原则上不需要知道这个类的依赖细节  

V1 版本： 使用者自己创建类的所有依赖，包括依赖的依赖  

V2 版本： 类的提供者提供类的构造方法，让使用者傻话式获取实例。缺点是没多写一个类，都需要多写一遍这种构造方法  

V3 版本： 将类的信息写到 xml 文件里，使用 Java 反射特性实现一个通用的构造方法  

## V3 版本的具体过程  

- xml 配置文件的加载（文件io，xml 解析）  
- 加载并注册 BeanDefinition，得到 beanName 和 BeanDefinition 的映射  
- 根据 BeanDefinition 创建 Bean 的实例，得到 beanName 和 Object 对象的映射  

[back](../1.md)