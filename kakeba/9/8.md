每次进行虚方法调用时，都需要到对应类的方法表中去查找，而每个类都有自己的方法表，查找繁琐    

方法内联的方式可以节省查找虚方法的开销  

内联缓存是一种加快动态绑定的技术（也是JIT）  
缓存虚方法调用中调用者的动态类型，以及该类型所对应的方法  
如果碰到已缓存的类型，则根据缓存直接调用；否则走动态绑定逻辑调用  

为了节省内存空间，JVM虚拟机只采用单态内联缓存，即只缓存了一种动态类型以及它所对应的方法。  
多态内联缓存需要缓存多个动态类型及其方法，调用者和动态类型逐个比较，匹配时调用其动态方法，热点动态类型排到前面  

单态：一个类只有一个子类的情况  
多态：一个类有很多的子类  
超多态：更多种状态的情况  

[back](../9.md)  