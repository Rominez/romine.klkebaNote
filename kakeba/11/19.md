Redis 代理模式  
- HA：负责监控节点的健康状态，异常时的主从切换  
- 主节点：负责写操作  
- 从节点：负责读操作，从主节点同步数据  
- 代理：按权重将读写命令转发到主从节点上  

星型复制架构：多个从节点直接从主节点同步数据  
- 从节点的数据更加完整，实时性高  
- 主节点承受更高的网络负载  

链式复制架构：一个从节点直接从主节点同步数据，其他从节点链式排列下去
- 主节点网络负载低，理论上从节点可以无限复制下去  
- 复制链尾部的从节点数据实时性低，读取不同从节点时数据不一致  
- sentinel 默认会将宕机的主节点设置为新主节点的从节点，需要通过 `slaveof host port` 命令手动切换  

代理  
predixy [see](19/1.md)  

[back](../11.md)  