一致性hash  
redis集群中内置了 16384 个槽，大致均等的分布在集群的不同的节点上  
先对 key 使用 crc16 算法算出一个结果  
结果对 16384 求余数，根据这个余数将节点放进对应的hash槽  

一致性哈希解决了普通哈希扩展和容错的问题  
新增节点时，只需要将一部分旧数据迁移到新节点即可，其余节点数据保持不动；  
节点宕机不影响其他节点的读取，不会导致大面积哈希映射失效  

一致性哈希在节点少的情况下容易出现数据倾斜问题  
可以通过加入虚拟节点的方式优化  

[back](../14.md)  