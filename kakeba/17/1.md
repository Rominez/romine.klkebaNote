分布式应用协调服务器，为分布式系统提供一致性服务  
一致性是基于 Paxos 算法的 ZAB 协议完成的  
主要功能：配置维护、域名服务、分布式同步、集群管理等  
Zookeeper 是 CP 的（CAP 定理），优先保证数据一致性  
选举时长一般在 200 ms 内，最长不超过 60s，选举期间不接受读写操作  

ZK 的特点   
- 顺序一致性：同一个客户端发起的多个事务请求（写操作请求），最终会严格按照发起顺序记录到 ZK  
- 原子性：所有的事务请求在 ZK 集群中的所有节点上的应用情况一致，要么都成功，要么都失败  
- 单一视图：客户端访问集群中任意一个节点，读取到的数据都是一样的  
- 可靠性：某事务成功应用到 ZK 后，会一直被保留下来，除非被另一个事务修改  
- 最终一致性：一个节点上的数据发生修改后，集群中其他节点同步修改，没有同步完成的节点是不提供服务的  

---

zk 可能存在脑裂问题  

---

相关：Consul, Doozerd, Etcd

[back](../17.md)  