```
$ lock table TABLENAME read|write;  
# 加表锁  
# read 读锁，write 写锁   

$ unlock tables;  
# 解锁  
# 加锁的会话断开连接时可以自动解开表锁  
```

- 意向锁  
当 InnoDB 的表中某一条记录上有行锁存在，给这个表加意向锁说明表中存在行锁  
其他事务发现表上有意向排他锁，便可以快速判断出不能对这个表进行加锁  

意向锁的兼容性  
| | | | | |
| :-: | :-: | :-: | :-: | :-: |
| 是否兼容 | 事务A: IS | IX | S | X |
| 事务B: IS | 是 | 是 | 是 | 否 |
| IX | 是 | 是 | 否 | 否 |
| S | 是 | 否 | 是 | 否 |
| X | 否 | 否 | 否 | 否 |

[back](../3.md)  