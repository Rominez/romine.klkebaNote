通常说的索引，包括聚集索引、覆盖索引、组合索引、前缀索引、唯一索引等，默认是 B+ 树结构  

hash 适合做等值查询，不适合范围查询  

折半查找之类的数据结构，前提是数据有序，理想情况时间复杂度 O(log2n)  

二叉查找树，按左子树小右子树大的规则插入，根节点不变  
缺点是极端情况下会变成单向链表  

自平衡二叉查找树  
插入时动态调整根节点，保证左右子树的高度差最大是1  
问题是子树少导致高度更大，导致在磁盘上 io 次数太多  

b tree 多叉平衡树  
每个节点上有多个数据，每个数据包含**键，值，指向子叶的两个指针**    
子节点高度平衡，子节点之间没有指针连接  
b tree 的“度”：一个节点上存放多少个数据即多少度  
向节点插入数据超过度时，将这个节点分裂，中间的数据为根节点，左右数据放到子节点上    
一个长整型的数据 8 byte，左右两个指针，每个指针 4 byte，一条数据 = 16 byte  
mysql 每个数据页 16 k，可以保存 1000 个数据  
高度为2的btree可以存储大约 1000 页乘每页 1000 条数据 =100 万条数据  
缺点  
- 如果单行数据量比较大，每个数据页保存的数据行就更少，度也就更小，分支更少，高度更高，io次数更多  
- 范围查询的性能并不好  

b+tree  
在 btree 的基础上，中间节点只保存**键，指向子叶的两个指针**，保证了度的大小  
最底层的节点包含了全部数据，节点上保存**键，数据**，节点之间相连形成双向链表，保证了范围查询的速度  


[back](../10.md)  