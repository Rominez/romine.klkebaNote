在多处理器的环境下，保证共享变量在线程之间的可见性  
禁止指令重排序，保证了有序性  
不能保证原子性  
比 synchronized 的执行成本更低  

volatile 变量每次被线程访问时，强迫线程从主内存中重读值  
发生修改时，强迫线程将最新的值刷新到内存中  
通过内存屏障实现 [see](4/1.md)  

指令重排序：cpu 采用允许多条指令不按程序规定的顺序分开发送给相应的电路单元处理  

原子性  
如 `a++;` 实际上是 `a = a + 1;` ，这个操作实际上是可分割的，不是一个原子操作  
非原子操作都会存在线程安全问题，需要使用 synchronized 同步计数变成原子操作，或者使用 atomic 原子类  

[back](../13.md)  